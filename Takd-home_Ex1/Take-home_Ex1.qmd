---
title: "Take-home Exercise 1"
author: "Fangyuan Zhu"
execute: 
  warning: false
  message: false
format: html
editor: visual
---

## 1 The Task

In this take-home exercise 1, we will use the Age-sex pyramid through *Tableau Desktop* to visualise demographic structure of population of Singapore. And we will display nine selected planning areas on a single view by using trellis display.

## 2 The Visualising Tool

Tableau Desktop

## 3 Step-by-step Guide

+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
| Procedure                                                                                                                                                                                                                                                                                                                                                                                                                               | Screenshot                                                                                                        |
+=========================================================================================================================================================================================================================================================================================================================================================================================================================================+===================================================================================================================+
| #### Step 1                                                                                                                                                                                                                                                                                                                                                                                                                             | ![](images/paste-CCE80F75.png)                                                                                    |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| Check the ***csv*** and ***xls*** file named '*Singapore Residents by Planning Area / Subzone, Age Group, Sex and Type of Dwelling, June 2022* ' from [Singstat](https://www.singstat.gov.sg/find-data/search-by-theme/population/geographic-distribution/latest-data).                                                                                                                                                                 |                                                                                                                   |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
| #### Step 2                                                                                                                                                                                                                                                                                                                                                                                                                             | ![](images/paste-5F39A2AD.png)![](images/paste-AE499458.png)                                                      |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| For files with the same content but differed forms, we should choose ***csv*** file for its smaller size and friendly readability to *Tableau.*                                                                                                                                                                                                                                                                                         |                                                                                                                   |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
| #### Step 3                                                                                                                                                                                                                                                                                                                                                                                                                             | ![](images/delete_col.png)                                                                                        |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| Because we use the data from the same year, so we don't need the column named ***Time***, for which all the rows are ***2022**.* Therefore we can **delete** this column to get a cleaner data table. Then we save the file and name it *ppl2022.csv.*                                                                                                                                                                                  |                                                                                                                   |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
| #### Step 4                                                                                                                                                                                                                                                                                                                                                                                                                             | ![](images/tempsnip.png){width="800"}                                                                             |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| Import the data into *Tableau Desktop* by opening the *csv* file just downloaded.                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                   |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
| #### Step 5                                                                                                                                                                                                                                                                                                                                                                                                                             | ![](images/details.png){width="400"}                                                                              |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| In the *Data Source* page, see that the data contains **6** fields: *PA, SZ, AG, Sex, TOD, POP* and *Time* and **100928** rows. Through checking the data type of the fields from the *detail* session, noted that data type of the columns named *PA, SZ, AG, Sex* and *TOD* are *string*, and column named *Pop* are *Number (whole).*                                                                                                |                                                                                                                   |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
| #### Step 6                                                                                                                                                                                                                                                                                                                                                                                                                             | ![](images/paste-B2BE4E52.png)                                                                                    |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| Checking the Notes file for the data, we see the explanations of each column:                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| -   PA - Planning Area                                                                                                                                                                                                                                                                                                                                                                                                                  |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| -   SZ - Subzone                                                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| -   AG - Age Group                                                                                                                                                                                                                                                                                                                                                                                                                      |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| -   TOD - Type of Dwelling                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| -   Pop - Resident Count                                                                                                                                                                                                                                                                                                                                                                                                                |                                                                                                                   |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
| #### Step 7                                                                                                                                                                                                                                                                                                                                                                                                                             | ![](images/Dscb_of_age.png){width="400"}![](images/paste-5786373F.png){width="547"}                               |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| Before we start analysing, we can check the raw data information by clicking the black triangle on the top right of the column and clicking *Describe...* For example, as shown in right, the column *PA* which means planning area has **55** items and no Null values. We can use the same method to check other columns we need, *AG - age* and *Pop - population,* and find no Null values in these columns.                        |                                                                                                                   |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
| #### Step 8                                                                                                                                                                                                                                                                                                                                                                                                                             | AG                                                                                                                |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| To build a *Age-sex pyramid* chart, we need bins of the age. Information of the age column shows that the original data already has 19 bins of age, and the length of each bin is 4, which is quite standard for an Age-sex pyramid chart.                                                                                                                                                                                              | Role:	Discrete Dimension                                                                                           |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | Type:	Database column                                                                                              |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | Remote column:	\[ppl2022.csv\].\[AG\]                                                                              |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | Remote type:	ANSI/MBCS character string                                                                            |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | Contains NULL:	No                                                                                                  |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | Locale:	United States(English)                                                                                     |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | Sort flags:	Case-sensitive                                                                                         |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | Column width:	11                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | Status:	Valid                                                                                                      |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | Domain (19 members)                                                                                               |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | 0_to_4                                                                                                            |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | 10_to_14                                                                                                          |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | 15_to_19                                                                                                          |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | 20_to_24                                                                                                          |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | 25_to_29                                                                                                          |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | 30_to_34                                                                                                          |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | 35_to_39                                                                                                          |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | 40_to_44                                                                                                          |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | 45_to_49                                                                                                          |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | 5_to_9                                                                                                            |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | 50_to_54                                                                                                          |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | 55_to_59                                                                                                          |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | 60_to_64                                                                                                          |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | 65_to_69                                                                                                          |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | 70_to_74                                                                                                          |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | 75_to_79                                                                                                          |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | 80_to_84                                                                                                          |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | 85_to_89                                                                                                          |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         | 90_and_over                                                                                                       |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
| #### Step 9                                                                                                                                                                                                                                                                                                                                                                                                                             | ![](images/paste-D9BF457B.png){width="526"}                                                                       |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| Then in the new worksheet, we drag the *AG* to the *Row* shelf.                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
| #### Step 10                                                                                                                                                                                                                                                                                                                                                                                                                            | ![](images/paste-8EDF7D1D.png){width="952"}                                                                       |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| Select *Analysis \> Create a Calculated Field,* and enter *Male Population.* Then in the pane space, enter formula as shown in right to extract Male population from the *Sex.*                                                                                                                                                                                                                                                         |                                                                                                                   |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
| #### Step 11                                                                                                                                                                                                                                                                                                                                                                                                                            | ![](images/paste-71DF57E8.png){width="618"}                                                                       |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| As shown on the right, we have Male population now.                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                   |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
| #### Step 12                                                                                                                                                                                                                                                                                                                                                                                                                            | ![](images/paste-32948679.png){width="565"}                                                                       |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| We use the same way to extract female population as shown on the right.                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                   |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
| #### Step 13                                                                                                                                                                                                                                                                                                                                                                                                                            | ![](images/paste-1149A101.png){width="734"}                                                                       |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| Drag the *Male Population* and *Female Population* to the Column shelf.                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                   |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
| #### Step 14                                                                                                                                                                                                                                                                                                                                                                                                                            | ![](images/PA.png){width="1146"}                                                                                  |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| Click the triangle of the *PA* in the *Table* shelf, open the filter option and select 1 planning area according to our task requirements.                                                                                                                                                                                                                                                                                              |                                                                                                                   |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
| #### Step 15                                                                                                                                                                                                                                                                                                                                                                                                                            | ![](images/PA-01.png){width="1146"}                                                                               |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| Drag the *Sex* to the *color* to embody different colors to the bar charts for each gender.                                                                                                                                                                                                                                                                                                                                             |                                                                                                                   |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
| #### Step 16                                                                                                                                                                                                                                                                                                                                                                                                                            | ![](images/paste-C3CE0347.png){width="687"}                                                                       |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| According to the code of Age-sex pyramid, Female chart ought to be on the right side. Therefore, we can change the position of *Female* and *Male* axis by changing the location of *Male Population and Female Population* in the *column* shelf.                                                                                                                                                                                      |                                                                                                                   |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
| #### Step 17                                                                                                                                                                                                                                                                                                                                                                                                                            | ![](images/paste-24899ADD.png)![](images/paste-B8DFEEF8.png){width="669"}![](images/null_values.png){width="854"} |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| Noted that the Female population has at least 19 null values, we can check the data by navigating to *Analysis \> View Data...* Noted that because of the conditional statement we used to extract male population and female population, there will be *Null* values if the object does not fit the condition. We click on the button and choose the '*Show data at default position*'. So that all null values will be replaced by 0. |                                                                                                                   |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
| Step 18                                                                                                                                                                                                                                                                                                                                                                                                                                 | ![](images/axis-01.png){width="510"}                                                                              |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| The next step to create the age-sex pyramid graph is to Right click the axis of Male population \> Edit Axis \> Reversed.                                                                                                                                                                                                                                                                                                               |                                                                                                                   |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
| Step 19                                                                                                                                                                                                                                                                                                                                                                                                                                 | ![](images/colr-01.png){width="731"}                                                                              |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| Then we change the aesthetics of the chart. First we change the color of the bar chart by clicking *color \> Edit color* under the *Mark.*                                                                                                                                                                                                                                                                                              |                                                                                                                   |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
| Step 20                                                                                                                                                                                                                                                                                                                                                                                                                                 | ![](images/paste-C253A545.png){width="817"}                                                                       |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| Lastly, we should sort the Y-axis as descending order. Right click beside the y axis \> *descending.*                                                                                                                                                                                                                                                                                                                                   |                                                                                                                   |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
| Step 21                                                                                                                                                                                                                                                                                                                                                                                                                                 | ![](images/title-01.png){width="580"}                                                                             |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| Double click the *Title* and change it to *Ang Mo Kio Age-sex Pyramid.*                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                   |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
| Step 22                                                                                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| With the same steps, we create other 8 age-sex pyramid graphs for other planning areas.                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                   |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
| Step 23                                                                                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                   |
| Then we drag all the age-sex pyramid into a new created *Dashboard*.                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                   |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+

: Procedures to designing visualisation

## 4 The Dashboard

![](images/paste-1CE7B275.png)
