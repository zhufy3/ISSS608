<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.189">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Fangyuan ZHU">
<meta name="dcterms.date" content="2023-02-20">

<title>ISSS608 VAA - Singapore bi-lateral trade | See what happened</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="../site_libs/htmlwidgets-1.6.1/htmlwidgets.js"></script>
<link href="../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="../site_libs/datatables-binding-0.27/datatables.js"></script>
<script src="../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../site_libs/dt-core-1.12.1/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="../site_libs/dt-core-1.12.1/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="../site_libs/dt-core-1.12.1/js/jquery.dataTables.min.js"></script>
<link href="../site_libs/dt-ext-buttons-1.12.1/css/buttons.dataTables.min.css" rel="stylesheet">
<script src="../site_libs/dt-ext-buttons-1.12.1/js/dataTables.buttons.min.js"></script>
<script src="../site_libs/dt-ext-buttons-1.12.1/js/buttons.html5.min.js"></script>
<script src="../site_libs/dt-ext-buttons-1.12.1/js/buttons.colVis.min.js"></script>
<script src="../site_libs/dt-ext-buttons-1.12.1/js/buttons.print.min.js"></script>
<link href="../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">ISSS608 VAA</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hands-on-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false">Hands-on Exercise</a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hands-on-exercise">    
        <li>
    <a class="dropdown-item" href="../Hands_on_Ex1/Hands_on_Ex1.html">
 <span class="dropdown-text">Hands-on Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Hands_on_Ex2/Hands_on_Ex2.html">
 <span class="dropdown-text">Hands-on Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Hands_on_Ex3/Hands_on_Ex3.qmd">
 <span class="dropdown-text">Hands-on Exercise 3</span></a>
  </li>  
        <li class="dropdown-header">Hands-on Exercise 4</li>
        <li>
    <a class="dropdown-item" href="../Hands_on_Ex5/Hands_on_Ex5.html">
 <span class="dropdown-text">Hands-on Exercise 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Hands_on_Ex6/Hands_on_Ex6.html">
 <span class="dropdown-text">Hands-on Exercise 6</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-in-class-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false">In-class Exercise</a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-in-class-exercise">    
        <li>
    <a class="dropdown-item" href="../Inclass_Ex1/Inclass_Ex1.html">
 <span class="dropdown-text">In-class Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Inclass_Ex2/Inclass_Ex2.html">
 <span class="dropdown-text">In-class Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Inclass_Ex3/Inclass_Ex3.html">
 <span class="dropdown-text">In-class Exercise 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Inclass_Ex4/Inclass_Ex4.html">
 <span class="dropdown-text">In-class Exercise 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Inclass_Ex5/Inclass_Ex5.html">
 <span class="dropdown-text">In-class Exercise 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Inclass_Ex6/Inclass_Ex6.html">
 <span class="dropdown-text">In-class Exercise 6</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-take-home-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false">Take-home Exercise</a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-take-home-exercise">    
        <li>
    <a class="dropdown-item" href="../Take-home_Ex1/Take-home_Ex1.html">
 <span class="dropdown-text">Take-home Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Take-home_Ex2/Take-home_Ex2.html">
 <span class="dropdown-text">Take-home Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Take-home_Ex3/Take-home_Ex3.html">
 <span class="dropdown-text">Take-home Exercise 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Take-home_Ex4/Take-home_Ex4.html">
 <span class="dropdown-text">Take-home Exercise 4</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html">Home</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html">Code of Visualisation Analysis</a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#our-task" id="toc-our-task" class="nav-link active" data-scroll-target="#our-task">Our Task</a></li>
  <li><a href="#data-used" id="toc-data-used" class="nav-link" data-scroll-target="#data-used">Data Used</a></li>
  <li><a href="#designing-tools" id="toc-designing-tools" class="nav-link" data-scroll-target="#designing-tools">Designing Tools</a></li>
  <li><a href="#importing-packages" id="toc-importing-packages" class="nav-link" data-scroll-target="#importing-packages">Importing Packages</a></li>
  <li><a href="#importing-data" id="toc-importing-data" class="nav-link" data-scroll-target="#importing-data">Importing Data</a></li>
  <li><a href="#data-cleaning" id="toc-data-cleaning" class="nav-link" data-scroll-target="#data-cleaning">Data cleaning</a></li>
  <li><a href="#missing-value-check" id="toc-missing-value-check" class="nav-link" data-scroll-target="#missing-value-check">Missing value check</a></li>
  <li><a href="#data-recoding" id="toc-data-recoding" class="nav-link" data-scroll-target="#data-recoding">Data recoding</a>
  <ul class="collapse">
  <li><a href="#converting-data-type" id="toc-converting-data-type" class="nav-link" data-scroll-target="#converting-data-type">Converting data type</a></li>
  <li><a href="#unifying-unit" id="toc-unifying-unit" class="nav-link" data-scroll-target="#unifying-unit">Unifying unit</a></li>
  <li><a href="#recode-column-names" id="toc-recode-column-names" class="nav-link" data-scroll-target="#recode-column-names">Recode column names</a></li>
  <li><a href="#glimpse-at-data-table" id="toc-glimpse-at-data-table" class="nav-link" data-scroll-target="#glimpse-at-data-table">Glimpse at data table</a></li>
  </ul></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"></a></li>
  </ul>
</nav>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Singapore bi-lateral trade | See what happened</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Fangyuan ZHU </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 20, 2023</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="our-task" class="level2">
<h2 class="anchored" data-anchor-id="our-task">Our Task</h2>
<p>In this take-home exercise, we are required to uncover the impact of COVID-19 as well as the global economic and political dynamic in <strong>2022</strong> on Singapore bi-lateral trade by using appropriate analytical visualisation techniques learned in <strong>Lesson 6: It’s About Time</strong>. We are encouraged to apply appropriate interactive techniques to enhance user and data discovery experiences.</p>
</section>
<section id="data-used" class="level2">
<h2 class="anchored" data-anchor-id="data-used">Data Used</h2>
<p>Merchandise Trade provided by Department of Statistics, Singapore (DOS) will be used. The study period will be between <strong>January 2020 to December 2022</strong>.</p>
</section>
<section id="designing-tools" class="level2">
<h2 class="anchored" data-anchor-id="designing-tools">Designing Tools</h2>
<p>In this Exercise, we will mainly use R packages like <em>tidyverse</em> and <em>tidyr</em> and their extensions.</p>
</section>
<section id="importing-packages" class="level2">
<h2 class="anchored" data-anchor-id="importing-packages">Importing Packages</h2>
<ul>
<li><p>tidyverse</p></li>
<li><p>tidyr: provides read_excel() function</p></li>
<li><p>readxl: provides read_xsls() function</p></li>
<li><p>knitr: helps to make a tidy table</p></li>
<li><p>DT: interactive data table. datatable() function</p></li>
<li><p>patchwork: arange the layout of plots</p></li>
<li><p>lubridate: ymd_hms</p></li>
<li><p>data.table: data.table() function</p></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, tidyr, readxl, knitr, DT, patchwork, lubridate, data.table, dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="importing-data" class="level2 tabset tabset-fade tabset-pills">
<h2 class="tabset tabset-fade tabset-pills anchored" data-anchor-id="importing-data">Importing Data</h2>
<p>Our raw dataset is in a report form so that when we import the dataset, we need to set some augments to properly choose our data. Given that our dataset is <em>xlsx</em> format, and the first sheet named “content” is a note of the dataset, the second sheet named “T1” is import data, the third sheet named “T2” is export data, we need to set the <strong>sheet name</strong> and the <strong>range</strong> of the sheet to extract, excluding useless rows and columns.</p>
<p>Let us import the <em>import</em> data by calling the sheet named “T1” and range from A10 to UT129. Let us take a look at the data we just imported using <code>datatable()</code> from <code>DT</code> package.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>imp<span class="ot">&lt;-</span><span class="fu">read_xlsx</span>(<span class="st">"data/outputFile.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"T1"</span>, <span class="at">range =</span> <span class="st">"A10:UT129"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>exp<span class="ot">&lt;-</span><span class="fu">read_xlsx</span>(<span class="st">"data/outputFile.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"T2"</span>, <span class="at">range =</span> <span class="st">"A10:DT101"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="data-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="data-cleaning">Data cleaning</h2>
<p>Now since we need to extract data in 2022, let us select columns from <strong>column 3</strong> to <strong>column 14.</strong></p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>imp<span class="ot">&lt;-</span>imp<span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span><span class="sc">:</span><span class="dv">14</span>))</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>exp<span class="ot">&lt;-</span>exp<span class="sc">%&gt;%</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span><span class="sc">:</span><span class="dv">14</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Then let us convert rows into columns and columns into rows, so that we have the states/region as variables.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>imp<span class="ot">&lt;-</span>imp<span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(Month, value, <span class="sc">-</span><span class="st">`</span><span class="at">Data Series</span><span class="st">`</span>)<span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(<span class="st">`</span><span class="at">Data Series</span><span class="st">`</span>, value)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">write_excel_csv</span>(imp, <span class="st">"data/import.csv"</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>exp<span class="ot">&lt;-</span>exp<span class="sc">%&gt;%</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(Month, value, <span class="sc">-</span><span class="st">`</span><span class="at">Data Series</span><span class="st">`</span>)<span class="sc">%&gt;%</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(<span class="st">`</span><span class="at">Data Series</span><span class="st">`</span>, value)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="fu">write_excel_csv</span>(exp, <span class="st">"data/export.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="missing-value-check" class="level2">
<h2 class="anchored" data-anchor-id="missing-value-check">Missing value check</h2>
<p>Then let us see is there any missing value in this data set. Codes below will show us the amount of missing values in each column.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>imp<span class="ot">&lt;-</span><span class="fu">read_csv</span>(<span class="st">"data/import.csv"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"Count of rows containing missing values in import data table is: "</span>,<span class="fu">sum</span>(imp[<span class="fu">rowSums</span>(<span class="fu">is.na</span>(imp))<span class="sc">!=</span><span class="dv">0</span>,])))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Count of rows containing missing values in import data table is: 0"</code></pre>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>exp<span class="ot">&lt;-</span><span class="fu">read_csv</span>(<span class="st">"data/export.csv"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"Count of rows containing missing values in export data table is: "</span>, <span class="fu">sum</span>(exp[<span class="fu">rowSums</span>(<span class="fu">is.na</span>(exp))<span class="sc">!=</span><span class="dv">0</span>,])))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Count of rows containing missing values in export data table is: 0"</code></pre>
</div>
</div>
<p>From the printed information, we see that the missing values in both data tables are 0.</p>
</section>
<section id="data-recoding" class="level2">
<h2 class="anchored" data-anchor-id="data-recoding">Data recoding</h2>
<section id="converting-data-type" class="level3">
<h3 class="anchored" data-anchor-id="converting-data-type">Converting data type</h3>
<p>Our column of time is formatted with YYYY Month. Now we need to remove the year and convert the month into time type as shown below.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>imp<span class="sc">$</span>Month<span class="ot">&lt;-</span><span class="fu">str_extract</span>(imp<span class="sc">$</span>Month, <span class="st">"</span><span class="sc">\\</span><span class="st">d+ (</span><span class="sc">\\</span><span class="st">w+)"</span>, <span class="at">group =</span> <span class="dv">1</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>exp<span class="sc">$</span>Month<span class="ot">&lt;-</span><span class="fu">str_extract</span>(exp<span class="sc">$</span>Month, <span class="st">"</span><span class="sc">\\</span><span class="st">d+ (</span><span class="sc">\\</span><span class="st">w+)"</span>, <span class="at">group =</span> <span class="dv">1</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>imp<span class="ot">&lt;-</span>imp<span class="sc">%&gt;%</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Month =</span> <span class="fu">recode</span>(Month, <span class="st">"Apr"</span> <span class="ot">=</span> <span class="st">"April"</span>, <span class="st">"Jan"</span> <span class="ot">=</span> <span class="st">"January"</span>, <span class="st">"Feb"</span> <span class="ot">=</span> <span class="st">"February"</span>, <span class="st">"Mar"</span> <span class="ot">=</span> <span class="st">"March"</span>, <span class="st">"Jun"</span> <span class="ot">=</span> <span class="st">"June"</span>, <span class="st">"Jul"</span> <span class="ot">=</span> <span class="st">"July"</span>, <span class="st">"Aug"</span> <span class="ot">=</span> <span class="st">"August"</span>, <span class="st">"Sep"</span> <span class="ot">=</span> <span class="st">"September"</span>, <span class="st">"Oct"</span> <span class="ot">=</span> <span class="st">"October"</span>, <span class="st">"Nov"</span> <span class="ot">=</span> <span class="st">"November"</span>, <span class="st">"Dec"</span> <span class="ot">=</span> <span class="st">"December"</span>))</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>exp<span class="ot">&lt;-</span>exp<span class="sc">%&gt;%</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Month =</span> <span class="fu">recode</span>(Month, <span class="st">"Apr"</span> <span class="ot">=</span> <span class="st">"April"</span>, <span class="st">"Jan"</span> <span class="ot">=</span> <span class="st">"January"</span>, <span class="st">"Feb"</span> <span class="ot">=</span> <span class="st">"February"</span>, <span class="st">"Mar"</span> <span class="ot">=</span> <span class="st">"March"</span>, <span class="st">"Jun"</span> <span class="ot">=</span> <span class="st">"June"</span>, <span class="st">"Jul"</span> <span class="ot">=</span> <span class="st">"July"</span>, <span class="st">"Aug"</span> <span class="ot">=</span> <span class="st">"August"</span>, <span class="st">"Sep"</span> <span class="ot">=</span> <span class="st">"September"</span>, <span class="st">"Oct"</span> <span class="ot">=</span> <span class="st">"October"</span>, <span class="st">"Nov"</span> <span class="ot">=</span> <span class="st">"November"</span>, <span class="st">"Dec"</span> <span class="ot">=</span> <span class="st">"December"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Then we sort the rows with the ascending order of month for both data tables.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>imp<span class="ot">&lt;-</span>imp<span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Month =</span> <span class="fu">factor</span>(Month, <span class="at">levels =</span> month.name))<span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(imp<span class="sc">$</span>Month, <span class="at">decreasing =</span> <span class="cn">FALSE</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>exp<span class="ot">&lt;-</span>exp<span class="sc">%&gt;%</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Month =</span> <span class="fu">factor</span>(Month, <span class="at">levels =</span> month.name))<span class="sc">%&gt;%</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(exp<span class="sc">$</span>Month, <span class="at">decreasing =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="unifying-unit" class="level3">
<h3 class="anchored" data-anchor-id="unifying-unit">Unifying unit</h3>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Import data</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Export Data</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">colnames</span>(imp))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Month</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Africa (Million Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">America (Million Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Anguilla (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Argentina (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Asia (Million Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australia (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Austria (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Bahamas (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Bahrain (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Bangladesh (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Belgium (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Bermuda (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brazil (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brunei Darussalam (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cambodia (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Canada (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Chile (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cocos (Keeling) Islands (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Colombia (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Commonwealth Of Independent States (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cook Islands (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cyprus (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Czech Republic (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Denmark (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Ecuador (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Estonia (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Europe (Million Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">European Union (Million Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fiji (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Finland (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">France (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">French Guiana (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">French Polynesia (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">French Southern Territories (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Germany, Democratic Republic Of (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Germany, Federal Republic Of (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Greece (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Grenada (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Guam (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Guatemala (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Honduras (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Hong Kong (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Hungary (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">India (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Indonesia (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Iran (Islamic Republic Of) (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Ireland (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Israel (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Italy (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Jamaica (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Japan (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Jordan (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Kiribati (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Kuwait (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Laos People’s Democratic Republic (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Latvia (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Lebanon (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Liechtenstein (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Lithuania (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Luxembourg (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Macau (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Mainland China (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Malaysia (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Maldives, Republic Of (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Malta (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Mexico (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Micronesia (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Myanmar (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Nauru (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Nepal (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Netherlands (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Netherlands Antilles (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">New Caledonia (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">New Zealand (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Niue (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Norfolk Island (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Norway (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Oceania (Million Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Oman (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Other Countries In America (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other Countries In Oceania (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Pakistan (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Palau (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Panama (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Papua New Guinea (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Paraguay (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Peru (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Philippines (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Poland (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Portugal (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Puerto Rico (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Qatar (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Republic Of Korea (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Saudi Arabia (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Slovak Republic (Slovakia) (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Slovenia (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Solomon Islands (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">South Sudan (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Spain (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sri Lanka (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">St Vincent &amp; The Grenadines (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sweden (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Switzerland (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Syrian Arab Republic (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Taiwan (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Thailand (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Total Merchandise Imports (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Trinidad &amp; Tobago (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Tuvalu (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">United Arab Emirates (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">United Kingdom (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">United States (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Uruguay (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Venezuela (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Vietnam, Socialist Republic Of (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Wallis &amp; Fatuna Islands (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Yemen (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Yemen Democratic (Thousand Dollars)</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>We see that some columns are calculated in <em>Thousand Dollars,</em> some are in <em>Million Dollars.</em> Since the <em>Thousand Dollars</em> takes the majority, we change <em>Million Dollars</em> to thousand dollars. Now let check which columns are in million dollars.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">grep</span>(<span class="st">"Million"</span>, <span class="fu">colnames</span>(imp)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: right;">x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7</td>
</tr>
<tr class="even">
<td style="text-align: right;">29</td>
</tr>
<tr class="odd">
<td style="text-align: right;">30</td>
</tr>
<tr class="even">
<td style="text-align: right;">80</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Now we see column 3, 4, 7, 29, 30 and 80 are in million dollars, so that we can change values in these columns into <em>Thousand Dollars.</em></p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>col<span class="ot">&lt;-</span><span class="fu">colnames</span>(imp)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">29</span>,<span class="dv">30</span>,<span class="dv">80</span>)){</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  imp[,i]<span class="ot">&lt;-</span>imp[,i]<span class="sc">*</span><span class="dv">1000</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">colnames</span>(imp))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Month</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Africa (Million Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">America (Million Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Anguilla (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Argentina (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Asia (Million Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australia (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Austria (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Bahamas (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Bahrain (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Bangladesh (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Belgium (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Bermuda (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brazil (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brunei Darussalam (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cambodia (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Canada (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Chile (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cocos (Keeling) Islands (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Colombia (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Commonwealth Of Independent States (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cook Islands (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cyprus (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Czech Republic (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Denmark (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Ecuador (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Estonia (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Europe (Million Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">European Union (Million Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fiji (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Finland (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">France (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">French Guiana (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">French Polynesia (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">French Southern Territories (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Germany, Democratic Republic Of (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Germany, Federal Republic Of (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Greece (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Grenada (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Guam (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Guatemala (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Honduras (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Hong Kong (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Hungary (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">India (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Indonesia (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Iran (Islamic Republic Of) (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Ireland (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Israel (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Italy (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Jamaica (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Japan (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Jordan (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Kiribati (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Kuwait (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Laos People’s Democratic Republic (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Latvia (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Lebanon (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Liechtenstein (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Lithuania (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Luxembourg (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Macau (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Mainland China (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Malaysia (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Maldives, Republic Of (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Malta (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Mexico (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Micronesia (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Myanmar (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Nauru (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Nepal (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Netherlands (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Netherlands Antilles (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">New Caledonia (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">New Zealand (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Niue (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Norfolk Island (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Norway (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Oceania (Million Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Oman (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Other Countries In America (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other Countries In Oceania (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Pakistan (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Palau (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Panama (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Papua New Guinea (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Paraguay (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Peru (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Philippines (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Poland (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Portugal (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Puerto Rico (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Qatar (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Republic Of Korea (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Saudi Arabia (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Slovak Republic (Slovakia) (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Slovenia (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Solomon Islands (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">South Sudan (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Spain (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sri Lanka (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">St Vincent &amp; The Grenadines (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sweden (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Switzerland (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Syrian Arab Republic (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Taiwan (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Thailand (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Total Merchandise Imports (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Trinidad &amp; Tobago (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Tuvalu (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">United Arab Emirates (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">United Kingdom (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">United States (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Uruguay (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Venezuela (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Vietnam, Socialist Republic Of (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Wallis &amp; Fatuna Islands (Thousand Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Yemen (Thousand Dollars)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Yemen Democratic (Thousand Dollars)</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>We see that some columns are calculated in Thousand Dollars, some are in Million Dollars. Since the Thousand Dollars takes the majority, we change Million Dollars to thousand dollars. Now let check which columns are in million dollars.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">grep</span>(<span class="st">"Million"</span>, <span class="fu">colnames</span>(exp)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: right;">x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: right;">23</td>
</tr>
<tr class="odd">
<td style="text-align: right;">24</td>
</tr>
<tr class="even">
<td style="text-align: right;">60</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Now we see column 3, 4, 6, 23, 24 and 60 are in million dollars, so that we can change values in these columns into <em>Thousand Dollars.</em></p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>col<span class="ot">&lt;-</span><span class="fu">colnames</span>(exp)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">6</span>,<span class="dv">23</span>,<span class="dv">24</span>,<span class="dv">60</span>)){</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  exp[,i]<span class="ot">&lt;-</span>exp[,i]<span class="sc">*</span><span class="dv">1000</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="recode-column-names" class="level3">
<h3 class="anchored" data-anchor-id="recode-column-names">Recode column names</h3>
<p>We see that the column names contain unit dollars, which will be useless because we have unify the unit. Therefore let us extract the column names to only retain the countries’ names.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Import data</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Export data</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(imp)[<span class="sc">-</span><span class="dv">1</span>]<span class="ot">&lt;-</span><span class="fu">str_extract</span>(<span class="fu">colnames</span>(imp)[<span class="sc">-</span><span class="dv">1</span>],<span class="st">"(.+)</span><span class="sc">\\</span><span class="st">(.+</span><span class="sc">\\</span><span class="st">)$"</span>,<span class="at">group =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(exp)[<span class="sc">-</span><span class="dv">1</span>]<span class="ot">&lt;-</span><span class="fu">str_extract</span>(<span class="fu">colnames</span>(exp)[<span class="sc">-</span><span class="dv">1</span>],<span class="st">"(.+)</span><span class="sc">\\</span><span class="st">(.+</span><span class="sc">\\</span><span class="st">)$"</span>,<span class="at">group =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="glimpse-at-data-table" class="level3">
<h3 class="anchored" data-anchor-id="glimpse-at-data-table">Glimpse at data table</h3>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Import data</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Export data</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="at">data =</span> imp, <span class="at">class =</span> <span class="st">"display"</span>, <span class="at">extensions =</span> <span class="st">"Buttons"</span>, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">dom=</span><span class="st">"Bfrtip"</span>, <span class="at">buttons =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">extend =</span> <span class="st">"colvis"</span>, <span class="at">text =</span> <span class="st">"Exclude/Include Columns"</span>))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-da3d506fa8102dc29a16" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-da3d506fa8102dc29a16">{"x":{"filter":"none","vertical":false,"extensions":["Buttons"],"data":[["1","2","3","4","5","6","7","8","9","10","11","12"],["April","August","December","February","January","July","June","March","May","November","October","September"],[20,107,61,99,20,82,8,10,85,26,9,19],[591900,551200,414900,668500,529900,574400,675900,636900,352900,483600,589900,395000],[7822100,8633800,6901500,5385200,5850900,7879700,8024000,7176100,8521100,7529400,7666400,7995900],[4,9,0,1,2,0,2,1,1,0,1,0],[6341,11801,11273,8302,9694,10327,11559,6657,16397,6775,14908,13163],[38735700,40911900,33611700,31611300,35014000,43214200,42507200,42199900,40534700,34733700,36120900,37696300],[1454940,696980,1253373,744590,682538,924529,1020536,759708,977494,577829,1246296,1447901],[82248,105197,104665,80431,83123,118935,114118,106396,116496,105084,101231,130438],[2,0,11,6,47,6,14704,0,11,4,4,4],[76907,7085,44949,1358,4480,165713,197690,4672,293928,11520,66675,2744],[18850,36996,27270,16678,21085,18815,20745,19840,23744,25709,18536,18308],[146603,132917,103655,247242,170868,224676,114704,319393,116817,121773,88796,215978],[0,2,0,0,0,1,0,1,6,4,0,3],[836482,968690,1004171,458528,794992,928891,1070887,516453,954871,1132945,917460,833293],[446823,311958,143124,161909,118376,248815,247045,178316,307654,121051,214994,208537],[22457,21829,25899,15084,21450,27796,13225,45772,16501,16407,9089,12607],[204489,599499,211232,197815,227718,284927,215581,253586,200837,224872,213606,241035],[9497,75458,16649,36587,8949,20111,11018,17065,15492,13831,11567,29599],[1,7,2,0,3,1,0,14,0,0,2,0],[16128,9806,7915,5529,87646,1927,84394,29549,50735,4436,2200,10518],[250158,170747,559381,602562,851550,268726,262627,80641,7728,355213,211147,192289],[17,0,0,0,0,0,1,0,83,0,0,23],[1889,2499,21698,28179,3387,1199,1848,1189,2307,2385,2034,1662],[72601,76026,69549,60391,63267,82010,84960,80205,111863,77729,78066,73954],[55538,126150,67665,40370,142017,55752,50966,76044,51216,67436,63719,61842],[3323,1931,4475,4001,17491,2226,5653,3042,4066,2745,4893,2522],[52312,7588,5378,20506,6857,8844,6260,5249,7884,6972,5489,7789],[7407200,7433200,7541800,6479000,7821600,8300500,7300200,7203200,7030800,7242800,7475900,8167600],[5375200,5131000,5058800,4064100,4561200,5233500,5135800,5137200,4551300,4961400,4685200,5145800],[379,185,243,215,470,601,320,634,458,191,170,498],[98354,38114,42399,30725,59916,91645,73548,58259,87196,49148,49749,48419],[1553618,1624646,1537347,1074703,1426667,1555500,1535920,1289677,1365379,1563127,1493161,1660563],[36,431,123,930,14,359,195,2,122,517,12899,296],[141,38,210,40,58,493,2730,50,2894,35,60,37],[7,8,46,32,258,4,1,9,83,99,115,242],[0,0,0,0,0,0,0,0,0,0,0,0],[1282312,1135242,1129542,1074201,1038822,1207446,1108916,1259702,1095451,1107630,1122251,1170472],[117955,170197,99085,40633,17780,207744,108596,10073,47795,37937,15850,107888],[2,8,6,18,2,0,13,41,1,19,1,3],[44,86,35,52,69,12160,45,104,9,104,65,176],[1381,2170,570,1895,1603,3463,1168,1931,2804,997,262,926],[443,793,1457,253,274,780,228,320,238,838,706,432],[360880,319470,240017,210038,514054,624415,333510,383912,431788,169227,207166,354257],[37592,39917,44406,27612,37471,48975,44843,38279,36746,46849,42761,38367],[1159602,908131,834657,1038814,851347,1022364,1251445,1023825,885584,837673,826855,1023746],[2401307,2301232,2074781,1752288,1854041,2032018,2244033,2245632,2242187,1971918,1987191,1924895],[191,255,317,316,754,44,258,790,328,267,692,258],[86763,193225,106678,110898,82200,107148,154789,127647,114569,118525,157648,118936],[101182,126174,98717,151344,99841,99014,106901,147553,94229,85965,93452,143055],[534144,592000,702472,452391,567318,570591,606990,549561,555654,725004,594994,547587],[125,137,93,104,44,24,96,44,47,117,61,493],[3273519,3100676,2618288,2496003,2448743,3440363,3194697,3429885,3842940,2837697,3038903,3109529],[4772,3782,8265,2531,6037,5333,8573,4639,8687,7262,3020,8904],[1,0,0,0,0,0,0,1,15,3,0,0],[21012,56351,639,3188,18171,117344,2626,105396,158838,54562,52798,16848],[13936,36150,7281,4162,16693,1707,19064,22579,17428,4963,16907,20214],[4620,3549,4288,2888,3324,3910,3546,3726,4452,6436,2299,2679],[50,337,332,121,121,475,92,188,79,578,449,303],[4006,3380,2250,2804,2951,3229,3055,2640,3438,3686,2650,3558],[53185,6345,13594,8831,52056,3338,135585,53700,12346,8716,5892,8406],[2296,31284,8156,7456,32098,9766,32019,3539,4651,5714,15746,55482],[3293,3219,1376,3225,1829,982,4107,3104,2484,17054,2341,436],[6153885,8196629,7642587,4799291,6387242,8510236,7976196,6635528,7478079,8285837,7377473,7390866],[6958619,7225607,6017970,5333950,6180062,7243882,7528135,7882249,6664440,6773423,6417377,7672003],[41,37,103,96,145,21,4,9,134,145,14,43],[26320,40703,41040,81616,18169,54619,21429,23192,25475,23080,51734,23836],[245392,247995,277739,183348,201662,402686,301939,237988,274105,242881,272680,263872],[9,10,29,19,3,8,22,3,20,8,5,10],[6443,8313,7486,5771,6836,7363,6221,7434,7012,6044,5856,6949],[0,0,14,20,10,0,18,543,262,0,0,8],[1026,559,221,28582,868,632,385,150,279,612,688,602],[574480,339001,384010,213278,261220,359653,265196,423978,279506,301384,263199,314814],[3,0,0,5,0,0,0,5,0,0,0,0],[5,186,18,59,22,25,10,92,102,256,14,262],[92299,133089,122266,55143,115683,97855,102003,84730,155635,72677,72719,79919],[0,0,80,2,0,0,0,2,0,0,1,3],[57,101,1,11,23,0,9,0,70,0,0,0],[55664,36231,50581,46708,54280,49789,53425,90633,44564,43134,40090,41524],[1559100,935900,1399900,814400,810400,1060600,1141800,863900,1164700,664400,1329800,1544600],[63758,73156,72624,26302,44336,71377,129614,28076,32226,60005,108470,42137],[35968,40996,37931,25285,24530,40731,62285,29530,63491,43918,44771,35101],[254,441,1577,1231,555,2880,1032,1570,422,3090,269,664],[9552,9692,7334,16731,6204,4988,6725,8074,6176,10169,6327,5272],[0,6,1,0,0,0,0,137,0,0,0,0],[327,424,127,29,102,131,403,193,337,116,175,328],[10765,104656,23124,13742,10972,21087,15351,16279,27361,12724,10221,14332],[422,513,681,404,172,423,832,557,945,281,487,235],[1267,1888,3464,846,1656,3042,12092,1044,7394,2155,11670,14741],[1126651,1121526,592778,962299,1024236,1358580,1219107,1112063,1165111,581054,646820,599147],[68894,64268,61324,57103,60535,57608,64196,82195,68693,59504,72936,82610],[32570,45507,31026,26909,79995,46337,46698,27227,36291,33086,39971,47500],[16699,14898,8375,14619,7191,16567,9667,8633,12158,16518,5480,9831],[567212,827737,640131,599833,429490,692186,651773,304196,557744,476149,528921,766915],[3557581,3841813,3207322,3042073,3341610,4382579,4120895,4028469,3678194,2863026,3044583,3113799],[767599,1081996,801168,1040074,920723,1003667,946997,1701009,1441814,866619,1010564,954922],[8311,10549,9115,6294,9865,10839,7301,8786,9303,7487,9522,7399],[7804,7957,7106,5385,5564,7600,6371,6130,7274,8502,8759,7816],[0,2,3,3,0,0,5,0,8,13,21,4],[0,0,33107,0,0,12,16751,0,0,27952,0,14777],[274544,200170,262629,160044,161163,178600,317461,295111,189520,245875,184146,209987],[11842,12789,10737,10057,10925,13242,13958,10342,10004,12169,14721,13436],[0,0,0,0,0,0,1,0,0,0,2,21],[163301,107557,162253,175309,149089,181260,168909,257417,170417,196484,180230,143127],[844154,1420434,992687,988959,1374633,1937455,941426,1000366,1433645,949410,1811943,1758858],[0,0,0,0,0,0,32,4,0,0,3,17],[6866989,7174679,5357878,6469836,6978727,7306972,7548824,7467443,6676629,5319407,6484560,5683947],[1529457,1511871,1116398,1231562,1239894,1636787,2034027,2248986,1440319,1241990,1431165,1343781],[56116002,58466009,49869770,44958373,50026788,61029374,59649162,58079982,57604263,50653907,53182943,55799312],[55,80568,64,30,68,3033,73,24,47,2854,31,58],[0,0,0,0,0,0,0,0,0,0,1,0],[2076593,1629843,1212293,1486825,1619973,2225339,1812158,2307579,2110593,1205738,1642118,2315066],[873970,753406,940088,769356,948415,802819,909903,886714,985209,1050419,859994,1131385],[6441534,6575058,5314219,4444812,4451719,6158055,6219803,5939553,6889723,5832049,6163496,6537215],[2387,806,635,3137,15600,5398,1982,130093,27476,779,1123,3311],[140,803,89,17,38,442,251,4,113,720,885,238],[821194,688285,567388,445527,561237,759728,706136,636576,781847,488956,522441,594893],[0,0,0,0,178,0,0,0,1,0,0,0],[341,151,629,454,2,499,245,172,618,106,265,48],[0,0,0,0,0,0,0,0,0,0,0,0]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Month<\/th>\n      <th>Afghanistan <\/th>\n      <th>Africa <\/th>\n      <th>America <\/th>\n      <th>Anguilla <\/th>\n      <th>Argentina <\/th>\n      <th>Asia <\/th>\n      <th>Australia <\/th>\n      <th>Austria <\/th>\n      <th>Bahamas <\/th>\n      <th>Bahrain <\/th>\n      <th>Bangladesh <\/th>\n      <th>Belgium <\/th>\n      <th>Bermuda <\/th>\n      <th>Brazil <\/th>\n      <th>Brunei Darussalam <\/th>\n      <th>Cambodia <\/th>\n      <th>Canada <\/th>\n      <th>Chile <\/th>\n      <th>Cocos (Keeling) Islands <\/th>\n      <th>Colombia <\/th>\n      <th>Commonwealth Of Independent States <\/th>\n      <th>Cook Islands <\/th>\n      <th>Cyprus <\/th>\n      <th>Czech Republic <\/th>\n      <th>Denmark <\/th>\n      <th>Ecuador <\/th>\n      <th>Estonia <\/th>\n      <th>Europe <\/th>\n      <th>European Union <\/th>\n      <th>Fiji <\/th>\n      <th>Finland <\/th>\n      <th>France <\/th>\n      <th>French Guiana <\/th>\n      <th>French Polynesia <\/th>\n      <th>French Southern Territories <\/th>\n      <th>Germany, Democratic Republic Of <\/th>\n      <th>Germany, Federal Republic Of <\/th>\n      <th>Greece <\/th>\n      <th>Grenada <\/th>\n      <th>Guam <\/th>\n      <th>Guatemala <\/th>\n      <th>Honduras <\/th>\n      <th>Hong Kong <\/th>\n      <th>Hungary <\/th>\n      <th>India <\/th>\n      <th>Indonesia <\/th>\n      <th>Iran (Islamic Republic Of) <\/th>\n      <th>Ireland <\/th>\n      <th>Israel <\/th>\n      <th>Italy <\/th>\n      <th>Jamaica <\/th>\n      <th>Japan <\/th>\n      <th>Jordan <\/th>\n      <th>Kiribati <\/th>\n      <th>Kuwait <\/th>\n      <th>Laos People's Democratic Republic <\/th>\n      <th>Latvia <\/th>\n      <th>Lebanon <\/th>\n      <th>Liechtenstein <\/th>\n      <th>Lithuania <\/th>\n      <th>Luxembourg <\/th>\n      <th>Macau <\/th>\n      <th>Mainland China <\/th>\n      <th>Malaysia <\/th>\n      <th>Maldives, Republic Of <\/th>\n      <th>Malta <\/th>\n      <th>Mexico <\/th>\n      <th>Micronesia <\/th>\n      <th>Myanmar <\/th>\n      <th>Nauru <\/th>\n      <th>Nepal <\/th>\n      <th>Netherlands <\/th>\n      <th>Netherlands Antilles <\/th>\n      <th>New Caledonia <\/th>\n      <th>New Zealand <\/th>\n      <th>Niue <\/th>\n      <th>Norfolk Island <\/th>\n      <th>Norway <\/th>\n      <th>Oceania <\/th>\n      <th>Oman <\/th>\n      <th>Other Countries In America <\/th>\n      <th>Other Countries In Oceania <\/th>\n      <th>Pakistan <\/th>\n      <th>Palau <\/th>\n      <th>Panama <\/th>\n      <th>Papua New Guinea <\/th>\n      <th>Paraguay <\/th>\n      <th>Peru <\/th>\n      <th>Philippines <\/th>\n      <th>Poland <\/th>\n      <th>Portugal <\/th>\n      <th>Puerto Rico <\/th>\n      <th>Qatar <\/th>\n      <th>Republic Of Korea <\/th>\n      <th>Saudi Arabia <\/th>\n      <th>Slovak Republic (Slovakia) <\/th>\n      <th>Slovenia <\/th>\n      <th>Solomon Islands <\/th>\n      <th>South Sudan <\/th>\n      <th>Spain <\/th>\n      <th>Sri Lanka <\/th>\n      <th>St Vincent &amp; The Grenadines <\/th>\n      <th>Sweden <\/th>\n      <th>Switzerland <\/th>\n      <th>Syrian Arab Republic <\/th>\n      <th>Taiwan <\/th>\n      <th>Thailand <\/th>\n      <th>Total Merchandise Imports <\/th>\n      <th>Trinidad &amp; Tobago <\/th>\n      <th>Tuvalu <\/th>\n      <th>United Arab Emirates <\/th>\n      <th>United Kingdom <\/th>\n      <th>United States <\/th>\n      <th>Uruguay <\/th>\n      <th>Venezuela <\/th>\n      <th>Vietnam, Socialist Republic Of <\/th>\n      <th>Wallis &amp; Fatuna Islands <\/th>\n      <th>Yemen <\/th>\n      <th>Yemen Democratic <\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"Bfrtip","buttons":[{"extend":"colvis","text":"Exclude/Include Columns"}],"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="at">data =</span> exp, <span class="at">class =</span> <span class="st">"display"</span>, <span class="at">extensions =</span> <span class="st">"Buttons"</span>, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">dom=</span><span class="st">"Bfrtip"</span>, <span class="at">buttons =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">extend =</span> <span class="st">"colvis"</span>, <span class="at">text =</span> <span class="st">"Exclude/Include Columns"</span>))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-8dfc36e83d9d316b75b9" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-8dfc36e83d9d316b75b9">{"x":{"filter":"none","vertical":false,"extensions":["Buttons"],"data":[["1","2","3","4","5","6","7","8","9","10","11","12"],["April","August","December","February","January","July","June","March","May","November","October","September"],[72,232,214,411,527,240,138,179,101,272,345,453],[1206600,1608500,1088600,780500,688800,1097600,1214700,948800,914200,1527000,1185600,1201800],[7075600,7931000,6217500,5396800,6576200,6731200,7508600,7933000,6341100,6394200,6653900,7091900],[19646,43246,22119,17621,21644,14329,19515,21158,20947,20687,23605,52858],[42328600,44106200,39734800,37113100,40021000,46129500,46328800,45030900,43779300,37973200,40500800,45605100],[2138137,2060828,1711317,1492564,1650218,2252228,2215085,2063439,1941642,1794035,1628700,1923247],[33756,36414,49367,22749,39656,30552,35724,62120,28787,40047,60000,60601],[21131,48485,24163,19719,29439,10775,59388,35338,10005,21034,121596,41003],[623837,534857,294037,674445,406728,555989,857101,774546,577713,339772,465380,547112],[668060,570824,432376,1007201,702940,991586,588520,1446036,617646,756814,350565,386724],[226969,258914,227374,224065,241165,215066,262228,247555,223271,170736,202358,274320],[140971,101311,75900,95335,77716,107918,142268,91187,75842,65457,67063,81269],[629986,1087906,195030,630559,1295867,1698433,1042776,339098,1485468,280992,594395,1504662],[135415,131512,113586,134416,120336,98556,117975,100621,135649,96999,110044,134488],[15877,12651,8570,7132,44153,45894,13614,9391,10700,8683,7161,44538],[12163,17219,12036,11796,12948,12527,16538,14728,21873,13459,16109,20157],[77063,70390,48818,50104,34039,68329,98984,66532,49038,57791,62302,64638],[77050,53328,23443,55495,50034,36867,39967,64250,56782,25261,43738,40588],[34748,42761,31084,26675,32037,48586,34269,34340,37237,29250,67327,44793],[8359,10004,7249,4926,6781,6480,8296,7893,6320,6212,6672,11642],[7380,2590,683,1572,5099,1676,3963,1681,7103,1005,1321,2292],[5726700,6109600,4924400,6128800,4878200,6250600,5455300,6166000,5141700,5025200,5121500,5155100],[4780700,5020500,4137100,4199200,4101800,5497000,4609400,5175200,4354500,4243400,4298100,4065400],[74612,49089,71371,21832,43159,66873,89238,24209,59035,55584,70864,89525],[53139,30590,71732,23829,61822,50463,64664,52902,25604,19921,65311,45266],[489309,454328,402218,382847,446179,459094,424547,457987,466344,324451,529962,358786],[3156,4153,2428,15961,17243,22831,2477,4862,3038,17142,34617,2743],[0,0,0,0,0,0,0,0,0,0,0,0],[809678,1291942,809343,722681,784687,1279156,921251,894561,780294,927112,1035273,912066],[123358,191678,131220,137793,98550,166037,164807,100539,133089,126740,121392,150911],[33498,73882,41150,64137,23026,31277,110238,5537,54722,49396,76617,50413],[6769192,6466344,7403998,6514766,6509744,6138562,7717915,6807217,7486002,5302426,5137172,7405741],[98504,80433,47775,70320,54758,58378,74596,65669,56842,63588,39889,60851],[1671860,1593916,1703023,1470299,1633973,1637019,1595699,1733946,1441178,1467219,1395949,1817817],[4344070,4684693,3740306,3439005,3691849,5333607,4555767,4196284,4809421,4082822,4075989,4373980],[2115,810,510,1239,1140,374,1091,462,2358,1091,2586,548],[77319,68379,177243,19881,32085,109400,134281,47636,179510,33157,117698,61522],[123517,138756,105746,82905,97565,153543,116551,106120,130846,122699,78544,111282],[122721,126344,128641,99591,114199,120489,124441,115529,90730,167460,155578,125791],[2464468,2311824,2271626,2195357,2225689,2327064,2472924,2673309,2329546,2504491,2406706,2481370],[9218,9380,15012,6404,9224,12002,10111,10855,5789,8410,7316,7608],[13101,34121,46086,13719,37106,20377,19183,21471,15363,44896,40943,42895],[47951,3719,4643,2489,12861,6565,2897,10026,3820,2950,7222,27116],[8474,4005,7434,2661,7263,9284,18929,6756,5070,2792,7758,9914],[1722,1380,1729,987,2256,1505,2059,1856,1597,2798,1148,1082],[2665,3363,1248,3576,1415,2261,1482,2763,3397,3033,4156,2474],[54066,9801,25910,21589,10674,27007,59945,70418,63757,4663,6334,7283],[24195,26644,29319,36011,20555,16838,19416,27876,30190,42902,21959,18310],[7481265,7548001,6374198,6929035,7163479,7792074,7516364,8912350,6757831,6773005,7810503,7133642],[5784848,6150507,5154779,4802094,4826818,6672175,7049568,6247336,6755655,5557119,6233818,5884698],[22845,32331,27931,21129,28876,18970,28239,24635,15855,34754,21845,30156],[243822,229646,243227,169550,160475,243500,268961,164505,236254,245180,220098,248160],[221708,258392,224874,200534,212582,374213,277688,225644,233505,277119,282600,231403],[276456,455447,449544,519274,325864,737588,472359,670528,493861,392738,461908,509268],[15405,16029,18692,17047,27163,18883,17375,20211,18189,12037,13355,15734],[1404974,1512800,1243341,1204414,1133245,1477881,1249897,1247649,1290748,1190952,1189965,1181847],[38537,39826,32546,25375,47347,53846,45761,40725,99705,15556,38811,29359],[772144,471479,397788,275263,285224,626090,411583,317564,640105,573747,499540,528450],[3899900,3608400,3034800,2572300,2681500,3916100,3669600,3054000,3671100,3243100,3114500,3453300],[80599,68168,18234,59577,117675,78456,19072,73446,15375,16674,45914,19112],[742237,823524,691400,578405,531186,728717,707093,508917,681505,650476,658085,708359],[124061,132621,183923,104044,109592,313964,154897,136729,96075,111265,66674,226902],[90152,75179,84412,96879,80775,117535,86614,90348,178814,80267,102466,114715],[494,283,563,382,1677,222,1521,419,523,626,987,1297],[9506,9050,11791,11823,8443,9116,11348,7640,9728,8651,7898,10393],[1225542,1654932,1116549,898526,1082779,1430283,1455141,1206732,1194254,1118234,1229078,1367212],[65823,48436,53076,39804,60979,57658,57747,50459,51670,63246,47942,53511],[138630,100757,123349,69206,56042,141847,86877,70003,82412,74028,81811,149219],[44964,32665,4234,42760,61126,88272,88641,72734,68112,56271,49109,74606],[83902,101056,64520,92609,56135,96592,91131,106031,95147,172041,99750,95392],[2343752,2412712,2865718,1725244,2139479,2397646,2915966,2390691,2146717,2165065,2330102,2896148],[92988,119219,102899,68465,92452,131655,99753,101324,87918,106397,242241,310368],[5283,8491,1217,3637,7025,7196,4725,3207,4547,2481,11506,11752],[4834,2361,4546,3112,36764,6190,5771,3457,1988,6222,5236,2679],[9826,13854,6018,4775,6286,21651,5764,5274,18051,7120,7749,9035],[53408,41036,46151,25349,67787,52271,91769,90387,27936,23462,32247,35478],[94393,121017,134049,136719,156549,73049,54396,145333,94567,133349,93118,191920],[20895,18788,14099,14674,13597,19968,22822,24562,11129,18936,21361,21764],[466125,440859,311701,225132,297857,246381,309727,448109,279856,328426,362032,579719],[54,0,260,839,54,147,84,88,0,62,116,85],[3158164,2621213,2768573,2484476,2849971,3301359,3102858,3112130,2832744,2667565,3034201,2875136],[2071321,2254888,1790423,1645446,2225138,2197398,1931552,1997489,2033102,1762557,1965567,2241114],[60237343,63363749,55000084,51991457,54845697,64124991,64177050,63132579,59847424,54162780,56576348,62507132],[530153,975155,625765,505840,810537,586314,456655,675048,735218,901306,573275,813202],[378595,498657,360897,451265,330083,405922,397429,426125,391484,322583,357153,379348],[5451780,6094432,4671228,4036717,5127133,4854897,5413551,6504517,4487599,4787358,5070780,5278523],[1239,2100,3822,1558,1943,2455,1693,931,2026,947,1885,969],[438,136,39,109,285,261,28,369,180,482,676,64],[1922464,2259090,1958783,1770380,1798392,2086867,2151719,2236449,1872698,1568729,1730554,2375792],[351,1463,566,1326,889,567,1060,1368,294,1322,700,1464],[0,0,0,0,0,0,0,0,0,0,0,0]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Month<\/th>\n      <th>Afghanistan <\/th>\n      <th>Africa <\/th>\n      <th>America <\/th>\n      <th>Argentina <\/th>\n      <th>Asia <\/th>\n      <th>Australia <\/th>\n      <th>Austria <\/th>\n      <th>Bahrain <\/th>\n      <th>Bangladesh <\/th>\n      <th>Belgium <\/th>\n      <th>Brazil <\/th>\n      <th>Brunei Darussalam <\/th>\n      <th>Cambodia <\/th>\n      <th>Canada <\/th>\n      <th>Chile <\/th>\n      <th>Colombia <\/th>\n      <th>Cyprus <\/th>\n      <th>Czech Republic <\/th>\n      <th>Denmark <\/th>\n      <th>Ecuador <\/th>\n      <th>Estonia <\/th>\n      <th>Europe <\/th>\n      <th>European Union <\/th>\n      <th>Fiji <\/th>\n      <th>Finland <\/th>\n      <th>France <\/th>\n      <th>French Polynesia <\/th>\n      <th>Germany, Democratic Republic Of <\/th>\n      <th>Germany, Federal Republic Of <\/th>\n      <th>Greece <\/th>\n      <th>Guam <\/th>\n      <th>Hong Kong <\/th>\n      <th>Hungary <\/th>\n      <th>India <\/th>\n      <th>Indonesia <\/th>\n      <th>Iran (Islamic Republic Of) <\/th>\n      <th>Ireland <\/th>\n      <th>Israel <\/th>\n      <th>Italy <\/th>\n      <th>Japan <\/th>\n      <th>Jordan <\/th>\n      <th>Kuwait <\/th>\n      <th>Laos People's Democratic Republic <\/th>\n      <th>Latvia <\/th>\n      <th>Lebanon <\/th>\n      <th>Lithuania <\/th>\n      <th>Luxembourg <\/th>\n      <th>Macau <\/th>\n      <th>Mainland China <\/th>\n      <th>Malaysia <\/th>\n      <th>Maldives, Republic Of <\/th>\n      <th>Malta <\/th>\n      <th>Mexico <\/th>\n      <th>Myanmar <\/th>\n      <th>Nepal <\/th>\n      <th>Netherlands <\/th>\n      <th>New Caledonia <\/th>\n      <th>New Zealand <\/th>\n      <th>Oceania <\/th>\n      <th>Oman <\/th>\n      <th>Other Countries In Oceania <\/th>\n      <th>Pakistan <\/th>\n      <th>Papua New Guinea <\/th>\n      <th>Paraguay <\/th>\n      <th>Peru <\/th>\n      <th>Philippines <\/th>\n      <th>Poland <\/th>\n      <th>Portugal <\/th>\n      <th>Puerto Rico <\/th>\n      <th>Qatar <\/th>\n      <th>Republic Of Korea <\/th>\n      <th>Saudi Arabia <\/th>\n      <th>Slovak Republic (Slovakia) <\/th>\n      <th>Slovenia <\/th>\n      <th>Solomon Islands <\/th>\n      <th>Spain <\/th>\n      <th>Sri Lanka <\/th>\n      <th>Sweden <\/th>\n      <th>Switzerland <\/th>\n      <th>Syrian Arab Republic <\/th>\n      <th>Taiwan <\/th>\n      <th>Thailand <\/th>\n      <th>Total Merchandise Exports <\/th>\n      <th>United Arab Emirates <\/th>\n      <th>United Kingdom <\/th>\n      <th>United States <\/th>\n      <th>Uruguay <\/th>\n      <th>Venezuela <\/th>\n      <th>Vietnam, Socialist Republic Of <\/th>\n      <th>Yemen <\/th>\n      <th>Yemen Democratic <\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"Bfrtip","buttons":[{"extend":"colvis","text":"Exclude/Include Columns"}],"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section"></h2>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } 
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb21" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Singapore bi-lateral trade | See what happened"</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Fangyuan ZHU"</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> 20 Feb 2023</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="an">date-modified:</span><span class="co"> "`r Sys.Date()`"</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span><span class="co"> </span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="co">  echo: true</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="co">  eval: true</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="co">  warning: false</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> html</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="an">editor:</span><span class="co"> visual</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a><span class="fu">## Our Task</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>In this take-home exercise, we are required to uncover the impact of COVID-19 as well as the global economic and political dynamic in **2022** on Singapore bi-lateral trade by using appropriate analytical visualisation techniques learned in **Lesson 6: It's About Time**. We are encouraged to apply appropriate interactive techniques to enhance user and data discovery experiences.</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data Used</span></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>Merchandise Trade provided by Department of Statistics, Singapore (DOS) will be used. The study period will be between **January 2020 to December 2022**.</span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a><span class="fu">## Designing Tools</span></span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>In this Exercise, we will mainly use R packages like *tidyverse* and *tidyr* and their extensions.</span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a><span class="fu">## Importing Packages</span></span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>tidyverse</span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>tidyr: provides read_excel() function</span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>readxl: provides read_xsls() function</span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>knitr: helps to make a tidy table</span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>DT: interactive data table. datatable() function</span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>patchwork: arange the layout of plots</span>
<span id="cb21-39"><a href="#cb21-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-40"><a href="#cb21-40" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>lubridate: ymd_hms</span>
<span id="cb21-41"><a href="#cb21-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-42"><a href="#cb21-42" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>data.table: data.table() function</span>
<span id="cb21-43"><a href="#cb21-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-46"><a href="#cb21-46" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb21-47"><a href="#cb21-47" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, tidyr, readxl, knitr, DT, patchwork, lubridate, data.table, dplyr)</span>
<span id="cb21-48"><a href="#cb21-48" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-49"><a href="#cb21-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-50"><a href="#cb21-50" aria-hidden="true" tabindex="-1"></a><span class="fu">## Importing Data {.tabset .tabset-fade .tabset-pills}</span></span>
<span id="cb21-51"><a href="#cb21-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-52"><a href="#cb21-52" aria-hidden="true" tabindex="-1"></a>Our raw dataset is in a report form so that when we import the dataset, we need to set some augments to properly choose our data. Given that our dataset is *xlsx* format, and the first sheet named "content" is a note of the dataset, the second sheet named "T1" is import data, the third sheet named "T2" is export data, we need to set the **sheet name** and the **range** of the sheet to extract, excluding useless rows and columns.</span>
<span id="cb21-53"><a href="#cb21-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-54"><a href="#cb21-54" aria-hidden="true" tabindex="-1"></a>Let us import the *import* data by calling the sheet named "T1" and range from A10 to UT129. Let us take a look at the data we just imported using <span class="in">`datatable()`</span> from <span class="in">`DT`</span> package.</span>
<span id="cb21-55"><a href="#cb21-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-56"><a href="#cb21-56" aria-hidden="true" tabindex="-1"></a><span class="in">```{r eval=FALSE}</span></span>
<span id="cb21-57"><a href="#cb21-57" aria-hidden="true" tabindex="-1"></a>imp<span class="ot">&lt;-</span><span class="fu">read_xlsx</span>(<span class="st">"data/outputFile.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"T1"</span>, <span class="at">range =</span> <span class="st">"A10:UT129"</span>)</span>
<span id="cb21-58"><a href="#cb21-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-59"><a href="#cb21-59" aria-hidden="true" tabindex="-1"></a>exp<span class="ot">&lt;-</span><span class="fu">read_xlsx</span>(<span class="st">"data/outputFile.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"T2"</span>, <span class="at">range =</span> <span class="st">"A10:DT101"</span>)</span>
<span id="cb21-60"><a href="#cb21-60" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-61"><a href="#cb21-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-62"><a href="#cb21-62" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data cleaning</span></span>
<span id="cb21-63"><a href="#cb21-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-64"><a href="#cb21-64" aria-hidden="true" tabindex="-1"></a>Now since we need to extract data in 2022, let us select columns from **column 3** to **column 14.**</span>
<span id="cb21-65"><a href="#cb21-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-66"><a href="#cb21-66" aria-hidden="true" tabindex="-1"></a><span class="in">```{r eval=FALSE}</span></span>
<span id="cb21-67"><a href="#cb21-67" aria-hidden="true" tabindex="-1"></a>imp<span class="ot">&lt;-</span>imp<span class="sc">%&gt;%</span></span>
<span id="cb21-68"><a href="#cb21-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span><span class="sc">:</span><span class="dv">14</span>))</span>
<span id="cb21-69"><a href="#cb21-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-70"><a href="#cb21-70" aria-hidden="true" tabindex="-1"></a>exp<span class="ot">&lt;-</span>exp<span class="sc">%&gt;%</span></span>
<span id="cb21-71"><a href="#cb21-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span><span class="sc">:</span><span class="dv">14</span>))</span>
<span id="cb21-72"><a href="#cb21-72" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-73"><a href="#cb21-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-74"><a href="#cb21-74" aria-hidden="true" tabindex="-1"></a>Then let us convert rows into columns and columns into rows, so that we have the states/region as variables.</span>
<span id="cb21-75"><a href="#cb21-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-76"><a href="#cb21-76" aria-hidden="true" tabindex="-1"></a><span class="in">```{r eval=FALSE}</span></span>
<span id="cb21-77"><a href="#cb21-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-78"><a href="#cb21-78" aria-hidden="true" tabindex="-1"></a>imp<span class="ot">&lt;-</span>imp<span class="sc">%&gt;%</span></span>
<span id="cb21-79"><a href="#cb21-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(Month, value, <span class="sc">-</span><span class="st">`</span><span class="at">Data Series</span><span class="st">`</span>)<span class="sc">%&gt;%</span></span>
<span id="cb21-80"><a href="#cb21-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(<span class="st">`</span><span class="at">Data Series</span><span class="st">`</span>, value)</span>
<span id="cb21-81"><a href="#cb21-81" aria-hidden="true" tabindex="-1"></a><span class="fu">write_excel_csv</span>(imp, <span class="st">"data/import.csv"</span>)</span>
<span id="cb21-82"><a href="#cb21-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-83"><a href="#cb21-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-84"><a href="#cb21-84" aria-hidden="true" tabindex="-1"></a>exp<span class="ot">&lt;-</span>exp<span class="sc">%&gt;%</span></span>
<span id="cb21-85"><a href="#cb21-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(Month, value, <span class="sc">-</span><span class="st">`</span><span class="at">Data Series</span><span class="st">`</span>)<span class="sc">%&gt;%</span></span>
<span id="cb21-86"><a href="#cb21-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(<span class="st">`</span><span class="at">Data Series</span><span class="st">`</span>, value)</span>
<span id="cb21-87"><a href="#cb21-87" aria-hidden="true" tabindex="-1"></a><span class="fu">write_excel_csv</span>(exp, <span class="st">"data/export.csv"</span>)</span>
<span id="cb21-88"><a href="#cb21-88" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-89"><a href="#cb21-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-90"><a href="#cb21-90" aria-hidden="true" tabindex="-1"></a><span class="fu">## Missing value check</span></span>
<span id="cb21-91"><a href="#cb21-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-92"><a href="#cb21-92" aria-hidden="true" tabindex="-1"></a>Then let us see is there any missing value in this data set. Codes below will show us the amount of missing values in each column.</span>
<span id="cb21-93"><a href="#cb21-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-96"><a href="#cb21-96" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb21-97"><a href="#cb21-97" aria-hidden="true" tabindex="-1"></a>imp<span class="ot">&lt;-</span><span class="fu">read_csv</span>(<span class="st">"data/import.csv"</span>)</span>
<span id="cb21-98"><a href="#cb21-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-99"><a href="#cb21-99" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"Count of rows containing missing values in import data table is: "</span>,<span class="fu">sum</span>(imp[<span class="fu">rowSums</span>(<span class="fu">is.na</span>(imp))<span class="sc">!=</span><span class="dv">0</span>,])))</span>
<span id="cb21-100"><a href="#cb21-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-101"><a href="#cb21-101" aria-hidden="true" tabindex="-1"></a>exp<span class="ot">&lt;-</span><span class="fu">read_csv</span>(<span class="st">"data/export.csv"</span>)</span>
<span id="cb21-102"><a href="#cb21-102" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"Count of rows containing missing values in export data table is: "</span>, <span class="fu">sum</span>(exp[<span class="fu">rowSums</span>(<span class="fu">is.na</span>(exp))<span class="sc">!=</span><span class="dv">0</span>,])))</span>
<span id="cb21-103"><a href="#cb21-103" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-104"><a href="#cb21-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-105"><a href="#cb21-105" aria-hidden="true" tabindex="-1"></a>From the printed information, we see that the missing values in both data tables are 0.</span>
<span id="cb21-106"><a href="#cb21-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-107"><a href="#cb21-107" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data recoding</span></span>
<span id="cb21-108"><a href="#cb21-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-109"><a href="#cb21-109" aria-hidden="true" tabindex="-1"></a><span class="fu">### Converting data type</span></span>
<span id="cb21-110"><a href="#cb21-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-111"><a href="#cb21-111" aria-hidden="true" tabindex="-1"></a>Our column of time is formatted with YYYY Month. Now we need to remove the year and convert the month into time type as shown below.</span>
<span id="cb21-112"><a href="#cb21-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-115"><a href="#cb21-115" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb21-116"><a href="#cb21-116" aria-hidden="true" tabindex="-1"></a>imp<span class="sc">$</span>Month<span class="ot">&lt;-</span><span class="fu">str_extract</span>(imp<span class="sc">$</span>Month, <span class="st">"</span><span class="sc">\\</span><span class="st">d+ (</span><span class="sc">\\</span><span class="st">w+)"</span>, <span class="at">group =</span> <span class="dv">1</span>)</span>
<span id="cb21-117"><a href="#cb21-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-118"><a href="#cb21-118" aria-hidden="true" tabindex="-1"></a>exp<span class="sc">$</span>Month<span class="ot">&lt;-</span><span class="fu">str_extract</span>(exp<span class="sc">$</span>Month, <span class="st">"</span><span class="sc">\\</span><span class="st">d+ (</span><span class="sc">\\</span><span class="st">w+)"</span>, <span class="at">group =</span> <span class="dv">1</span>)</span>
<span id="cb21-119"><a href="#cb21-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-120"><a href="#cb21-120" aria-hidden="true" tabindex="-1"></a>imp<span class="ot">&lt;-</span>imp<span class="sc">%&gt;%</span></span>
<span id="cb21-121"><a href="#cb21-121" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Month =</span> <span class="fu">recode</span>(Month, <span class="st">"Apr"</span> <span class="ot">=</span> <span class="st">"April"</span>, <span class="st">"Jan"</span> <span class="ot">=</span> <span class="st">"January"</span>, <span class="st">"Feb"</span> <span class="ot">=</span> <span class="st">"February"</span>, <span class="st">"Mar"</span> <span class="ot">=</span> <span class="st">"March"</span>, <span class="st">"Jun"</span> <span class="ot">=</span> <span class="st">"June"</span>, <span class="st">"Jul"</span> <span class="ot">=</span> <span class="st">"July"</span>, <span class="st">"Aug"</span> <span class="ot">=</span> <span class="st">"August"</span>, <span class="st">"Sep"</span> <span class="ot">=</span> <span class="st">"September"</span>, <span class="st">"Oct"</span> <span class="ot">=</span> <span class="st">"October"</span>, <span class="st">"Nov"</span> <span class="ot">=</span> <span class="st">"November"</span>, <span class="st">"Dec"</span> <span class="ot">=</span> <span class="st">"December"</span>))</span>
<span id="cb21-122"><a href="#cb21-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-123"><a href="#cb21-123" aria-hidden="true" tabindex="-1"></a>exp<span class="ot">&lt;-</span>exp<span class="sc">%&gt;%</span></span>
<span id="cb21-124"><a href="#cb21-124" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Month =</span> <span class="fu">recode</span>(Month, <span class="st">"Apr"</span> <span class="ot">=</span> <span class="st">"April"</span>, <span class="st">"Jan"</span> <span class="ot">=</span> <span class="st">"January"</span>, <span class="st">"Feb"</span> <span class="ot">=</span> <span class="st">"February"</span>, <span class="st">"Mar"</span> <span class="ot">=</span> <span class="st">"March"</span>, <span class="st">"Jun"</span> <span class="ot">=</span> <span class="st">"June"</span>, <span class="st">"Jul"</span> <span class="ot">=</span> <span class="st">"July"</span>, <span class="st">"Aug"</span> <span class="ot">=</span> <span class="st">"August"</span>, <span class="st">"Sep"</span> <span class="ot">=</span> <span class="st">"September"</span>, <span class="st">"Oct"</span> <span class="ot">=</span> <span class="st">"October"</span>, <span class="st">"Nov"</span> <span class="ot">=</span> <span class="st">"November"</span>, <span class="st">"Dec"</span> <span class="ot">=</span> <span class="st">"December"</span>))</span>
<span id="cb21-125"><a href="#cb21-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-126"><a href="#cb21-126" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-127"><a href="#cb21-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-128"><a href="#cb21-128" aria-hidden="true" tabindex="-1"></a>Then we sort the rows with the ascending order of month for both data tables.</span>
<span id="cb21-129"><a href="#cb21-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-132"><a href="#cb21-132" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb21-133"><a href="#cb21-133" aria-hidden="true" tabindex="-1"></a>imp<span class="ot">&lt;-</span>imp<span class="sc">%&gt;%</span></span>
<span id="cb21-134"><a href="#cb21-134" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Month =</span> <span class="fu">factor</span>(Month, <span class="at">levels =</span> month.name))<span class="sc">%&gt;%</span></span>
<span id="cb21-135"><a href="#cb21-135" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(imp<span class="sc">$</span>Month, <span class="at">decreasing =</span> <span class="cn">FALSE</span>)</span>
<span id="cb21-136"><a href="#cb21-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-137"><a href="#cb21-137" aria-hidden="true" tabindex="-1"></a>exp<span class="ot">&lt;-</span>exp<span class="sc">%&gt;%</span></span>
<span id="cb21-138"><a href="#cb21-138" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Month =</span> <span class="fu">factor</span>(Month, <span class="at">levels =</span> month.name))<span class="sc">%&gt;%</span></span>
<span id="cb21-139"><a href="#cb21-139" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(exp<span class="sc">$</span>Month, <span class="at">decreasing =</span> <span class="cn">FALSE</span>)</span>
<span id="cb21-140"><a href="#cb21-140" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-141"><a href="#cb21-141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-142"><a href="#cb21-142" aria-hidden="true" tabindex="-1"></a><span class="fu">### Unifying unit</span></span>
<span id="cb21-143"><a href="#cb21-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-144"><a href="#cb21-144" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb21-145"><a href="#cb21-145" aria-hidden="true" tabindex="-1"></a>We see that the unit of the columns are not aligned, so we can unify the unit of *million* and *thousand.* Let us see which columns are in which unit with codes below.</span>
<span id="cb21-146"><a href="#cb21-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-147"><a href="#cb21-147" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Import data</span></span>
<span id="cb21-148"><a href="#cb21-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-151"><a href="#cb21-151" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb21-152"><a href="#cb21-152" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">colnames</span>(imp))</span>
<span id="cb21-153"><a href="#cb21-153" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-154"><a href="#cb21-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-155"><a href="#cb21-155" aria-hidden="true" tabindex="-1"></a>We see that some columns are calculated in *Thousand Dollars,* some are in *Million Dollars.* Since the *Thousand Dollars* takes the majority, we change *Million Dollars* to thousand dollars. Now let check which columns are in million dollars.</span>
<span id="cb21-156"><a href="#cb21-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-159"><a href="#cb21-159" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb21-160"><a href="#cb21-160" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">grep</span>(<span class="st">"Million"</span>, <span class="fu">colnames</span>(imp)))</span>
<span id="cb21-161"><a href="#cb21-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-162"><a href="#cb21-162" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-163"><a href="#cb21-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-164"><a href="#cb21-164" aria-hidden="true" tabindex="-1"></a>Now we see column 3, 4, 7, 29, 30 and 80 are in million dollars, so that we can change values in these columns into *Thousand Dollars.*</span>
<span id="cb21-165"><a href="#cb21-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-168"><a href="#cb21-168" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb21-169"><a href="#cb21-169" aria-hidden="true" tabindex="-1"></a>col<span class="ot">&lt;-</span><span class="fu">colnames</span>(imp)</span>
<span id="cb21-170"><a href="#cb21-170" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">29</span>,<span class="dv">30</span>,<span class="dv">80</span>)){</span>
<span id="cb21-171"><a href="#cb21-171" aria-hidden="true" tabindex="-1"></a>  imp[,i]<span class="ot">&lt;-</span>imp[,i]<span class="sc">*</span><span class="dv">1000</span></span>
<span id="cb21-172"><a href="#cb21-172" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb21-173"><a href="#cb21-173" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-174"><a href="#cb21-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-175"><a href="#cb21-175" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Export Data</span></span>
<span id="cb21-176"><a href="#cb21-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-179"><a href="#cb21-179" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb21-180"><a href="#cb21-180" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">colnames</span>(imp))</span>
<span id="cb21-181"><a href="#cb21-181" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-182"><a href="#cb21-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-183"><a href="#cb21-183" aria-hidden="true" tabindex="-1"></a>We see that some columns are calculated in Thousand Dollars, some are in Million Dollars. Since the Thousand Dollars takes the majority, we change Million Dollars to thousand dollars. Now let check which columns are in million dollars.</span>
<span id="cb21-184"><a href="#cb21-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-187"><a href="#cb21-187" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb21-188"><a href="#cb21-188" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">grep</span>(<span class="st">"Million"</span>, <span class="fu">colnames</span>(exp)))</span>
<span id="cb21-189"><a href="#cb21-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-190"><a href="#cb21-190" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-191"><a href="#cb21-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-192"><a href="#cb21-192" aria-hidden="true" tabindex="-1"></a>Now we see column 3, 4, 6, 23, 24 and 60 are in million dollars, so that we can change values in these columns into *Thousand Dollars.*</span>
<span id="cb21-193"><a href="#cb21-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-196"><a href="#cb21-196" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb21-197"><a href="#cb21-197" aria-hidden="true" tabindex="-1"></a>col<span class="ot">&lt;-</span><span class="fu">colnames</span>(exp)</span>
<span id="cb21-198"><a href="#cb21-198" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">6</span>,<span class="dv">23</span>,<span class="dv">24</span>,<span class="dv">60</span>)){</span>
<span id="cb21-199"><a href="#cb21-199" aria-hidden="true" tabindex="-1"></a>  exp[,i]<span class="ot">&lt;-</span>exp[,i]<span class="sc">*</span><span class="dv">1000</span></span>
<span id="cb21-200"><a href="#cb21-200" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb21-201"><a href="#cb21-201" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-202"><a href="#cb21-202" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb21-203"><a href="#cb21-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-204"><a href="#cb21-204" aria-hidden="true" tabindex="-1"></a><span class="fu">### Recode column names</span></span>
<span id="cb21-205"><a href="#cb21-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-206"><a href="#cb21-206" aria-hidden="true" tabindex="-1"></a>We see that the column names contain unit dollars, which will be useless because we have unify the unit. Therefore let us extract the column names to only retain the countries' names.</span>
<span id="cb21-207"><a href="#cb21-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-208"><a href="#cb21-208" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb21-209"><a href="#cb21-209" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Import data</span></span>
<span id="cb21-210"><a href="#cb21-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-211"><a href="#cb21-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-214"><a href="#cb21-214" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb21-215"><a href="#cb21-215" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(imp)[<span class="sc">-</span><span class="dv">1</span>]<span class="ot">&lt;-</span><span class="fu">str_extract</span>(<span class="fu">colnames</span>(imp)[<span class="sc">-</span><span class="dv">1</span>],<span class="st">"(.+)</span><span class="sc">\\</span><span class="st">(.+</span><span class="sc">\\</span><span class="st">)$"</span>,<span class="at">group =</span> <span class="dv">1</span>)</span>
<span id="cb21-216"><a href="#cb21-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-217"><a href="#cb21-217" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-218"><a href="#cb21-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-219"><a href="#cb21-219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-220"><a href="#cb21-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-221"><a href="#cb21-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-222"><a href="#cb21-222" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Export data</span></span>
<span id="cb21-223"><a href="#cb21-223" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-226"><a href="#cb21-226" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb21-227"><a href="#cb21-227" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(exp)[<span class="sc">-</span><span class="dv">1</span>]<span class="ot">&lt;-</span><span class="fu">str_extract</span>(<span class="fu">colnames</span>(exp)[<span class="sc">-</span><span class="dv">1</span>],<span class="st">"(.+)</span><span class="sc">\\</span><span class="st">(.+</span><span class="sc">\\</span><span class="st">)$"</span>,<span class="at">group =</span> <span class="dv">1</span>)</span>
<span id="cb21-228"><a href="#cb21-228" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-229"><a href="#cb21-229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-230"><a href="#cb21-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-231"><a href="#cb21-231" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb21-232"><a href="#cb21-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-233"><a href="#cb21-233" aria-hidden="true" tabindex="-1"></a><span class="fu">### Glimpse at data table</span></span>
<span id="cb21-234"><a href="#cb21-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-235"><a href="#cb21-235" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb21-236"><a href="#cb21-236" aria-hidden="true" tabindex="-1"></a><span class="fu">### Import data</span></span>
<span id="cb21-237"><a href="#cb21-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-240"><a href="#cb21-240" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb21-241"><a href="#cb21-241" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="at">data =</span> imp, <span class="at">class =</span> <span class="st">"display"</span>, <span class="at">extensions =</span> <span class="st">"Buttons"</span>, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">dom=</span><span class="st">"Bfrtip"</span>, <span class="at">buttons =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">extend =</span> <span class="st">"colvis"</span>, <span class="at">text =</span> <span class="st">"Exclude/Include Columns"</span>))))</span>
<span id="cb21-242"><a href="#cb21-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-243"><a href="#cb21-243" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-244"><a href="#cb21-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-245"><a href="#cb21-245" aria-hidden="true" tabindex="-1"></a><span class="fu">### Export data</span></span>
<span id="cb21-246"><a href="#cb21-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-249"><a href="#cb21-249" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb21-250"><a href="#cb21-250" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="at">data =</span> exp, <span class="at">class =</span> <span class="st">"display"</span>, <span class="at">extensions =</span> <span class="st">"Buttons"</span>, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">dom=</span><span class="st">"Bfrtip"</span>, <span class="at">buttons =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">extend =</span> <span class="st">"colvis"</span>, <span class="at">text =</span> <span class="st">"Exclude/Include Columns"</span>))))</span>
<span id="cb21-251"><a href="#cb21-251" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-252"><a href="#cb21-252" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb21-253"><a href="#cb21-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-254"><a href="#cb21-254" aria-hidden="true" tabindex="-1"></a><span class="fu">## </span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>